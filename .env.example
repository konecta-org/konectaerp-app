# ================================================
# KonectaERP Environment Variables Template
# ================================================
# This file documents all environment variables needed for production deployment.
# Copy this file to .env and fill in the appropriate values for your environment.
#
# For GKE deployment, these should be stored as Kubernetes Secrets and ConfigMaps.
# See CONFIGURATION.md for detailed setup instructions.

# ================================================
# Database Configuration
# ================================================
# SQL Server connection string for production
# For GKE: Use Cloud SQL Proxy or private IP connection
# Format: Server=<host>,<port>;Database=<dbname>;User Id=<user>;Password=<password>;TrustServerCertificate=True;
DB_CONNECTION_STRING=

# ================================================
# Message Broker (RabbitMQ / Cloud Pub/Sub)
# ================================================
# For GKE: Consider using Google Cloud Pub/Sub or managed RabbitMQ
RABBITMQ_HOST=
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=
RABBITMQ_PASSWORD=
RABBITMQ_VHOST=/

# ================================================
# Email / SMTP Configuration
# ================================================
# Production SMTP settings (e.g., SendGrid, Gmail, etc.)
SMTP_HOST=
SMTP_PORT=587
SMTP_USE_SSL=true
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_ADDRESS=no-reply@yourdomain.com
SMTP_FROM_NAME=Konecta ERP

# ================================================
# Service Discovery (Consul)
# ================================================
# Consul server URL for service discovery
# For GKE: Use Kubernetes DNS or external Consul cluster
CONSUL_HOST=http://consul-server:8500
CONSUL_PORT=8500
CONSUL_REGISTER=true

# ================================================
# JWT Authentication
# ================================================
# JWT issuer and audience
JWT_ISSUER=KonectaERP
JWT_AUDIENCE=KonectaERPUsers
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=7
JWT_REQUIRE_HTTPS=true

# JWT Key ID (identifier for the current signing key)
JWT_KEY_ID=key-production

# JWT RSA Private Key (PEM format, newlines as \n)
# Generate with: openssl genrsa -out private.pem 2048
# IMPORTANT: Store this in Google Secret Manager for GKE
JWT_PRIVATE_KEY=

# JWT RSA Public Key (PEM format, newlines as \n)
# Generate with: openssl rsa -in private.pem -pubout -out public.pem
JWT_PUBLIC_KEY=

# ================================================
# Service-to-Service Authentication
# ================================================
# Shared secret for internal service communication
# IMPORTANT: Store this in Google Secret Manager for GKE
SERVICE_SHARED_SECRET=

# ================================================
# Service URLs (Internal)
# ================================================
# These are internal service URLs for inter-service communication
# For GKE: Use Kubernetes service DNS names
AUTH_SERVICE_URI=http://authentication-service:7280
HR_SERVICE_URI=http://hr-service:5005
USER_MANAGEMENT_SERVICE_URI=http://user-management-service:5078
INVENTORY_SERVICE_URI=http://inventory-service:5020
FINANCE_SERVICE_URI=http://finance-service:5003
REPORTING_SERVICE_URI=http://reporting-service:8085

# Authentication JWKS endpoint
AUTH_JWKS_URI=http://authentication-service:7280/.well-known/jwks.json

# ================================================
# Config Server
# ================================================
# Spring Cloud Config Server URL
# For GKE: Deploy config server as a Kubernetes service
SPRING__CLOUD__CONFIG__URI=http://config-server:8888
SPRING__CLOUD__CONFIG__FAILFAST=true

# ================================================
# Service Configuration
# ================================================
# Public hostnames for services (used for Consul registration)
# For GKE: These might be internal DNS names or load balancer IPs
SERVICE_PUBLIC_HOST=

# Service scheme (http or https)
# For GKE production: Use https with Ingress TLS termination
SERVICE_SCHEME=https

# ================================================
# API Gateway Configuration
# ================================================
# API Gateway port
SERVER_PORT=8080
MANAGEMENT_PORT=8081

# Gateway SSL settings
GATEWAY_SSL_INSECURE=false

# ================================================
# Logging Configuration
# ================================================
# Log levels for production
LOG_LEVEL_ROOT=Information
LOG_LEVEL_GATEWAY=Information

# ================================================
# GKE-Specific Configuration
# ================================================
# Google Cloud Project ID
GCP_PROJECT_ID=

# GKE Cluster name
GKE_CLUSTER_NAME=

# GKE Cluster region/zone
GKE_CLUSTER_REGION=

# Cloud SQL Instance connection name (for Cloud SQL Proxy)
# Format: project:region:instance
CLOUD_SQL_CONNECTION_NAME=

# Google Cloud Storage bucket for file uploads (if applicable)
GCS_BUCKET_NAME=

# ================================================
# Monitoring & Observability (Optional)
# ================================================
# Google Cloud Monitoring/Logging
GOOGLE_CLOUD_MONITORING_ENABLED=true

# Application Insights / Prometheus endpoint (if using)
MONITORING_ENDPOINT=
