# ================================================
# KonectaERP Local Development Environment
# ================================================
# This file contains default values for local Docker Compose development.
# Copy this file to .env to use these defaults, or customize as needed.

# ================================================
# Database Configuration
# ================================================
DB_CONNECTION_STRING=Server=sqlserver,1433;Database=Konecta_Auth;User Id=sa;Password=pa55w0rd!;TrustServerCertificate=True;

# ================================================
# Message Broker (RabbitMQ)
# ================================================
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# ================================================
# Email / SMTP Configuration (MailHog)
# ================================================
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USE_SSL=false
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_ADDRESS=no-reply@konecta.local
SMTP_FROM_NAME=Konecta HR

# ================================================
# Service Discovery (Consul)
# ================================================
CONSUL_HOST=http://consul-server:8500
CONSUL_PORT=8500
CONSUL_REGISTER=true

# ================================================
# JWT Authentication
# ================================================
JWT_ISSUER=KonectaERP
JWT_AUDIENCE=KonectaERPUsers
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=7
JWT_REQUIRE_HTTPS=false

# JWT Key ID
JWT_KEY_ID=key-202501

# Note: For local development, JWT keys are included in config server
# For production, these must be set as environment variables

# ================================================
# Service-to-Service Authentication
# ================================================
SERVICE_SHARED_SECRET=KonectaSharedSecret!

# ================================================
# Service URLs (Internal)
# ================================================
AUTH_SERVICE_URI=http://authentication-service:7280
HR_SERVICE_URI=http://hr-service:5005
USER_MANAGEMENT_SERVICE_URI=http://user-management-service:5078
INVENTORY_SERVICE_URI=http://inventory-service:5020
FINANCE_SERVICE_URI=http://finance-service:5003
REPORTING_SERVICE_URI=http://reporting-service:8085

AUTH_JWKS_URI=http://authentication-service:7280/.well-known/jwks.json

# ================================================
# Config Server
# ================================================
SPRING__CLOUD__CONFIG__URI=http://config-server:8888
SPRING__CLOUD__CONFIG__FAILFAST=true

# ================================================
# Service Configuration
# ================================================
SERVICE_PUBLIC_HOST=
SERVICE_SCHEME=http

# ================================================
# API Gateway Configuration
# ================================================
SERVER_PORT=8080
MANAGEMENT_PORT=8081
GATEWAY_SSL_INSECURE=true

# ================================================
# Logging Configuration
# ================================================
LOG_LEVEL_ROOT=Information
LOG_LEVEL_GATEWAY=DEBUG
